generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["auth", "chat"]
}

model User {
  userId   BigInt    @id @default(autoincrement()) @map("user_id")
  nickName String    @map("nick_name") @db.VarChar(255)
  messages Message[] @relation("UserMessages")

  @@map("user")
  @@schema("auth")
}

model Message {
  messageId BigInt  @id @default(autoincrement()) @map("message_id")
  userId    BigInt? @map("user_id")
  chat      String  @db.VarChar(255)
  user      User?   @relation("UserMessages", fields: [userId], references: [userId], onDelete: Cascade, map: "fk_message_user")

  @@map("message")
  @@schema("chat")
}
