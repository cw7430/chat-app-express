generator client {
  provider = "prisma-client-js"
  output   = env("PRISMA_OUTPUT")
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["auth", "chat"]
}

model User {
  userId   BigInt  @id @default(autoincrement()) @map("user_id")
  nickName String  @map("nick_name") @db.VarChar(255)
  token    String  @db.VarChar(255)
  isOnline Boolean @default(false) @map("is_online")
  chats    Chat[]  @relation("UserChats")

  @@map("user")
  @@schema("auth")
}

model Chat {
  chatId  BigInt @id @default(autoincrement()) @map("chat_id")
  userId  BigInt @map("user_id")
  message String @db.VarChar(255)
  user    User   @relation("UserChats", fields: [userId], references: [userId], onDelete: Cascade, map: "fk_chat_user")

  @@map("chat")
  @@schema("chat")
}
